pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include ins.p8
scalew = 0.030546068863690688
scaleb = 0.05834483229996246

printh("\n#### INIT ####\n")

function dequantize(qw, scale)
	return qw * scale
end

function sigmoid(x)
	return 1 / (1 + 2.71828^-x)
end

-- Super simple dot product function
-- Only works for if a is a matrix and b is a vector for now
function dot(a, b)
	local result = {}
	if #a[1] != #b then
		stop("Matrix and vector sizes do not match")
	end

	for i=1, #a do
		result[i] = 0
		for j=1, #b do
			result[i] += a[i][j] * b[j]
		end
	end
	return result
end

size = {784, 10, 14, 10}

function init_weights()
	weights = {}
	for i=0x0000, 0x0fdc do
		local num = @i
		local real_num = ((num & 0b11110000) >> 4) | ((num & 0b1111) << 4)
		real_num = (real_num < 128) and real_num or (real_num - 256)
		weights[i] = dequantize(real_num, scalew)
	end
end

init_weights()

printh(#weights*2)

printh("weights")
__gfx__
000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff000000000000000000000000000000000000000101
01010303060704030505030001010000000000000000000000020304050706050a0c0c0b08100c070509050201000000000000000001030405080a080a0c0b05
04090e0b0c0902fffffeff00000000010001020203030704050200fefbfaff0101fef7f5f9fbff000000000000fe000505fcfc0101fcf7fdfcf7f4f5f5f1f1ed
f2f6ff00000000ffff00010504fbfaff02010609fcf1f2f2e9e8e5e8f4fbff00000000ffff02000303f9f90500040a0cf9f6e9ebe7e2e1e4f6fcff0000000000
fffefd01fff5fe0004051006fcebe3ebe8dde0eaf4f9feff00000000fffef9faf7f2fffa03020a03fbeeecece6e9eaeff7fafeff000000fffff9f4f6f2f4f2f5
f7f2fe01fef3eff4f7f6fafafdff0000000000fffef5eff2eff5e5ebe9ebfc04fbf4f90107fd010004030000000000fffcf2ecf1f3f0e8e9e9f70a08f9f5fe07
04fc03050505010000000000faefeef6fcf6fafdf8070b04fced040c060206090503ff00000000fffbf2f5fd0101050a081010fdfdfcfeff0107030302040000
0000ff00fbf4f803050a100c0917110004f4f1fa04050200000200000000ff00faf7fd0508010b0906130dfef9fcf4fd09050401010200000000ff00fbfb000b
04fe041119150e06ff02010811090205060401000000ff01fefd030b05040d181f1f1e0a090602080f080409080301000000ff02010002060005080c1216130b
12080b0d0d0d080d0a020000000000000100ff00fffe0606fafd00070f0d07090908090a07010000000000000000fefdf8fafbf3e8ebf2fe0907070505080604
0201000000000000fefdfdfbf8f4f1eae1e3eaf0f8ff0001000304000100000000000000fffbfcfdfdfaf8f5f4f5f5f9fafcfdfcfeff00000100000000000000
00fffffffdfcfcfaf9f8f8fafbfdfeffffffffff0000000000000000000000000000ffff00feff00000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000ffff0000000000000000000000000000000000000000000000000000ffff00fffefeffffff0000ff00000000000000000000
000000000000fffefefefdfdfcfefefeffffffffff0101000100000000000000000000ff0000fffcfafaf7f7f7f8fafaf9fcfdfeffff00000000000203040203
050705fdf9f2f4f8f9faf9faff00fffcfcff00000000010303040707040a0cfdfbf9e7e1eefaf6fa0404fffdfdff0000000001020309090c0e130f0e0a02f4ee
f5fffff802020201ff00ffff00000103080e0b0f090b070e130d0804020a0a0702030502ff00ffff00000205090b0d0b000002020816130e0b130c07050507ff
000100000002040608060801fe09fb00080b0a05070a0afcfd0302fdfd0000000000020505ff000206f8fefaf6f2eff0fb0700f7fcfef9fafc00000000000102
fffb0204fff9f5efdfd5dadcf302fef4fbf7f7f8fd00000000000000fcfcfaf3f2f1eae5dcdbdeeaf700fffc03fcfbfafd01000000000000fdfcf9eee5e7e0e1
e1e6ecf7fc01090d0b0903fe010100000000000000f9f8f0e6e5e6e3e7f0f4f9fcfb080a0e0a03030402010000000001fef7f6f4efeef0f0f3fafafb00feff00
0401ff010202000000000001fdf7f3f5f6f5f2f6fcff02010402faf8fffdfc000202000000010001fdf7f6f6f7f4f600050603fefffff3f4fcfafaff00000000
00000000fdf9f6f6f6f9fe040603fffb00fcf6fbf9f9fafe0000000000000000fefdfaf7f5f8ff00fd03fa0100fbfafefbfcfbfdff000000000000000000fefe
00fe02fdfdfdf7ff00010200fcfefefd0000000000000000010203040200ffff0203ff01010303fdfbfffefe000000000000000001040505040505080a0704ff
fd0303fefdfffffe000000000000000001030201030809110c010603fd0005ffff0000fe0000000000000000000000feff010101fdfa01040003050200000000
00000000000000000000000000fffeffff0000010001030000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000ffffff000000ff0000ff0000000000000000000000000000ff0002fefdfbfdfdfcfcfbfafefffefeff000000000000000000000001030502fc
fd00fcfbfffffe00fe0000ff0000000000000000ffff0303060a0a0303040100090b0f0c040202fefefe000000000000fffe0309100b07050403050c0f080b05
060302fdfbfd0000000000010001080606080afc02070800030a0a0b0a03f8f6f9fd000000000101010308090803fffdfd0400f6f2fb0c120e01f8f5f9fd0000
00000103040506090c0305040600fb01fe01070605fcfafafafd0000000004060907060a0c05080504fafd0e0e04010602fafdfbfafdff000000040506030100
fcfbf2f0eadcea06130e0b00fcfefdfafdff00000000010301f8f1eae9e0d5d6c8cae20107080c02fffdf3fafeff0000000000fff8eee0dbd7cbcececad9ee01
03060306ffefebf7ff000100000000fef7e7dbd9d2d6ebf3eff8fdfffefe0000f5efeff801010202000000fff8e8e0e6ecf9080a010601fc02fb09fcf9f4f4f7
ff0402000000fffffcf2f4ff02020a03fcfffb01ff0601f9fbfaf7f7ff0401000000ff0001020a02fd04fdf8fe0402fd0504fbfaf7fbfbfd060904000000ff01
0a0d0c0600faf0f5010c0c080605fe0101fe01070c0c0400000000030f100f0a06f8fbff0a100e050505010703fd010a0d0a01000000ff03100e0c1101fdff07
080e07f6f8ff0201fbff050f0e07020000ff00050e0e0e110603ff040303fff6f9fc0103030b0c1009060200000000050b0d0f11090803fff9f9f6f8fafd0606
050a0d08040301000000000506070f0e090606f9f0f3f2fc0100ff01050c0907030000000000000202020303fdfbf9f9f5f0f60100f8f7f8fe04030201000000
00000000ff0201fcfaf9fb01fcf4f7fdfcf5f0f0f8fdfeff0000000000000000000102010104080a01ff0404fdf7f0f3f9fbfe00000000000000000000000101
01030403020101010000fdfdfeff0000000000000000000000000000000000000001010101010000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010303020100000000000000
0000000000000000000000000101000003040303020101ff000101ff0000000000000000ffff0000010203050605090b090906ffff0103fefe00000000000000
ffff000201030103080b0e161a18110e0c0a05feff03030000000000ff00030404030201030002090a0c1313100c08040304020000000000ff0103060d090209
040600020103080c05060c0c0b0903000000fffffffd01080a03fb0d05fd060c03fe05040506131712100901000000fffdfb010603f2fcfef6f8fffbf8f3fdf9
fe040e15130d0701000000fefbf8fbfdfafafe02fdfd0300f2edf0f0f7faff0e0f080200000000fff9f7f6f9f40200fd06100dfeede6e5eff3f7fa060a030000
00000000fbfbf8fcf70200010f1911f7ece5e6ebf1eff3000502000000000000fbf8f8fafdfbff07171a06eeeceaf0eceae9f5000301000000000000fbf3f6f6
fc01ff04070a01e8e7eaebedefeefa0101000000000000fffaf5f7f6f3fcf6f2fb0bfde5e7e7e6eff1f7fc0201010000000000fefbf9f8fbf7fcf7fd040cf7dd
e5eaf5f7f8ff030505010000000000ff010300fbfa00070705fbeee6ebfd01feff0a0c0a0703000000000001070b0b0601090b0e09f6f0fc06140b070b0f0f0c
09040000000000030a10121410171a0f08fcfd0c12160d10140f0d0a0703000000000003081116161b2621140d06090f140f120b0e0b0c070401000000000003
060f151118170c080d0b0f0f060f0d070c0b06030100000000000102040b0d0f1210050d0e14130b0c0d0606090600010100000000000101ff02020a0c0c050c
0d0f11120e0502020501ff010000000000000100fdfafb000101040b0b0a08060601fdfbf9fbfeff0000000000000000fffbfcf8f6f8fcfbfef8f7fdfefefbf8
f8fe0000000000000000000000fffefefdfcfdfdfdfbf8fafe0100fcffff00000000000000000000000000000000ffff00ffff00000000000000ff0000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000
0000000000fefcff00000001010100000000000000000000000000000102040504fefcfe0204040200fefe000000000000000000000001010305050503fefbfd
0203fcfcfffcfafc010200000000000000000203070a08030206040103090604fffbf7fd030300000000000000010205080e0b040708060a0c0b120c0301ff01
0302000000000000000104070b110d090a0a0b0e08060f060305070401000000000000000003070b0d11110c0a0809060502060204080703fe00ff0000000000
010608090c100c060400fffbff010204090601fefafeff000000000001050707090c07020200f6eff8fc010705fffefefcffff00000000000001040405050404
07fcebe9f7000205030100ffffff000000000000000001020304070803f8e6effc000708060303020100010000000000000001010104080a04f3e7f3fa060a08
0502010100000000000000ff0000000001050c1107f2e9f3fb100d080401ff000101000000000000ff00010204080e0d00f5f20203100b070502020302000000
00000000ff000103080a0b0902f0f405050e0b08070405040200ff000000000000000105090a0904fdf0f70409100b0706040304030200000000000001000101
01050200fff5fb050909070505040505040200000000000002030200fb01fd00fbf80408030604020103040402000000000000000103fefdfc0000fefcfe0509
02040607060607050400000000000000fefdfdfe050604080c060702ff000509090807050301000000000000fef9fc0209050912160e05fffbfd020607070403
0100000000000000fffafd0305080b0e0e0900f8f7fb010304030302000000000000000001fefeff03060c110c0803ff02010101000000000000000000000000
01020202020206070505060403020000000000000000000000000000000001010001020100020302010000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000
000000000000000000000000000000000000ffff000101fffdfdfdfe0000000000000000000000000000000000ff0004060401fdf9f5f4f5f8fcffff01010000
000000000000010101020608080b0b03fbf2f1f6fbfefffeff000000000000000001010100ff0607090a04fee6eaf6fefdf9f6f6fd00000000000001010200fa
f8fd090d1613292f140e0d05faeae5f7fdfdff00000000010200faf2ef0b181e202b424642291815fff6effbfbfe00000000000202faf9f6fc121b17202d3e41
3b1f140f00ff0100ff00000000000102010001010815131320292b2b110f140b05070b070100010000000101030102060d140416120911130308130e1209110d
0201000000000102050202080d020009f2f907120206131515110f0a01010000000001030903000501f4f3e5e1f70a07fb0d0d11130e0900fd00ff0000000103
0902fef8f5eae7d0def00303fe0703020401fdf6fbfe0000000000020601f3edece5dddaf40708f8fffaf6e8f7faf6f5f8fd00000000000102fae7e6e6f2e8e4
f5f4e8ecf4fae6e9f6f2f4f2f7fe00000000000004f8e6e3ecf8fdf9fdf5ebeff6f8f1f8f6edf6f5fcff00000000000000faf1f4f1f9fd0406f5f1f4fbfffbfb
f9f8fefc0001000000000000fffdfdf7f4f90107faf3ecf900010401fefb0300ffff00000001000000020302fff9f7f1f1f0eafc0503040000ff0502ff000000
0000000104070a0b0a02f8ecf3f0f50105fa020706030402ff0000000000000104090c0e100b00f3f6f2fa03fff30a0e0a000400ff0000000000000103070a0f
14160f0e0600080d02fc070a080003030000000000000000010305090d0f10151516131109070f0d0f070604010000000000000000020304080f12110c0f0f0c
0a0e0c0a120905020000000000000000000204030b130f151e181a13151c1a15150d040100000000000000000000010306070808080f160d0c0a080b09020000
00000000000000000000000000000000010408010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000ffff000000000000000000000000000000000000fffffefffffdfcfdfbfcfdfefeff0000000000000000000000fffffffffefdfd
fcfaf9f8f7f9f9fcfcfe00ffff000000000000000000000000fefbfbfbfcfcf9fd0000ff0005040201ff000000000000000000fffffbf9f9f6f5f4f0f3f3f4fb
02060707040102000000000000020301fefdfcfdf6faf7f2f5f4f5f8fdff0207070301000000000100020401fefcfffcfcfdfefa02fcf900050503070a060100
0000000101ffff010103fefefefeff000f0b0608060907080b0501000000010000fdfcffff01f8fdf7fcff040d0e0d07050806020807010000000000fefdfeff
040600fdf3f801090d0bffff000500fd0304010000000001000203040b070402f6000b0c0400fbfef9fff8f5fd000000000000010205080b130d0afff7010a0a
010000fcf6f5f1f2fcff00000000000104080b0d0d0d0dfff6020e0d070504fcfbf3f1f2fcff000000000000030707050504fffb0112100c070d06fff8f1f3f4
fd000000000000000301fefd0300fe020907040b11110d03f6f4f7fbfeff00000000000100faf7f6000607050b0a0d08100f0a00f7f7f8fafdff00000000ffff
faf4f7f5f8fdfcfe030907030300fef8f6f1f1f2f6fbff000000fffdf6f3f6f0eceae5e9eefe00fbf5f4f4eeefedf0f3f4fa0000000000fdf6f2efebeae3e2e4
f20302fcf7f9fdf8f8f4f5f5f7fcff00000000fdf9f7f0f0f6f3f3f7fd0301f8fcff01fffaf7f7f8f8fcfe00000000fefcf9f4fd0000fbfc0002fefafafcfefe
f7f7f9fbfdff00000000fffffefbf500000907fefafdfffffe0002fefbfcfdff0000000000000000000301fdfd0103fbfafc0004080904ff0001fffe00000000
0000000001040605fefaf6f7fb05030302050603010200feff0000000000000000010304080805090c0a02030303040201020100000000000000000000000001
01010202020202020101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffeff0000ffffff0000
000000000000000000010101020306060707060300fefefefdfdff0000000000000000000001020609090b0f13110e090701fdfcfdfafafafe01000000000000
0104050a0a09070a0e08090000fcfe0904fbf6f8ffff000000000000060b0c0b0306fcff00fd00080704ff04fff2eef4fdfcff00000000020b0f100c02fefe04
02fe030b07fff8090bfaf7f1f3fafe00000000030c0e110e09fc000303ff00fdf7f9fd0b09faf7ededf6fc000000ff020a0c090804fc02fbf7f8fbff00ff060e
0703fdedeef7fb000000ffff05fff7fcf4eef1e5e1eb02090a0c0d09060a09fcfafdff000000fffffff9f1f5f2e6e6e2def5161c16131a1917120a0402000000
00000000fef9f1f1eee1e5dee0fb1c1e1e1516150d0801010301000000000000fdf9f2eef0e6dfe3f5191d1e1c19110600fef7fb0001000000000000fefbf2f0
efeaebf40920251e191e1302f9f4f2f5ff02010000000000fffffbf7f6f600071a2c2d21191000f7f7f5eef3fe01000000000000fffefdfafcfb03102128241f
1506eff3f6f8eef4ff0000000000000102faf5fcfe030915262a22180dfde8eef8f9f6faff000000000000030301fafafc030d1018181007fff5f2f7fcfcfbfe
ff0000000000000403000001f8fe03f6f9fcf2fb01fe00010101ff00ff0101000000000307030203f9f4ece4dde6ec010302020102fdfe030101010000000103
0809060a06f8efeae5edf701fdfbfefffcfa0104ff00000000000104080d0c070f03fef3f0effc00f9f9f9f9fafd0103000000000000000104070c0a0d06faf9
f801fffbf7faf9fffe02040300000000000000000104090607030201fbff04ff030704020102020200000000000000ff00000101010000fd0206070707080502
01000000000000000000000000000000000000000001010000000102010000000000000000000000000000000000000000ffffff000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000100000000000000010100000000000000000000000000ffffff0004010203030303fffcfe0000ff0000000000000000000000ff00050904fafbfe
010303fcfcff04050300000000000000000303fffcff0005fb00060502f6f8f8f7f9040703030200000000000203060205050402040b0f090600fafe01f8ff08
0a05030000000001050908070505000805060b02060805f8030201080d08020000000002050805fefefdfe030101faf8030202f6fd0101080c08030000000001
050605fff5f6efedeff5fa01faf5f3f2faf7f7fe030502000000ff01040602fbf2f3edebe9f2060ffdefebedefe7e1ecf90100000000ff000102fff8f3f4f4f8
fc0b1c1d0402f7f7ebdcdae7f50000000000000000fffdfcfffefd0a0e1b2b130d110e01eee1e4e8f7000000000000000000fd00fd02ff050d1a190f10111006
f8f1eeeff900000000000001fdfcf7f4fbfd06010b0d080000040d0d01fcfaf7fc00000000000101fbfbf1e6e7eefe04070405fefc04030b01010500ff000000
00000102fefcf0ddd6dcebfaf9fb01f7ff060d0b00ff080400feff000000010204feefdfd0c5c5d3dde9f5fe0308040e0102020100fdff000000010609fcfaea
ddc9bbc5c8ddf906080301080a0500fffdfd00000000010b0bfefdfef6e5dfdee4efff0b0405fa09100a03fdfafe00000000010a0a020100030501fffd0103fe
010305060500fbf6f8ff000000000004050302fd04020607060403ff060d0909fef8f5f4f8ff00000000010508020201fd0006100809000716140a07fdfbfbfc
fe000000000001040b0b0a0904080703010603030a050101fbfafdfeff00000000000001060a0d110d0d09030507fbf8f6f6f6f9f9fdfefeffff000000000000
000102040708040305040202fefcfcfdff0101000000000000000000000000000100ffffff00fefefeffff000101000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff00000000
00ff0000000000000000000000000000ff00fdfefffefffefbfcfcfbfcfdfe00000000000000000000000000ff000003050402fdfaf9fcfefefefdfe00000000
0000000000000304050b0e151614070201ff0505fffafbf9fdffff0000000000020406080d0e10121715110e05050200fef9f5f0f7fdff000000000106070a0c
100f0c0f130f0b0b0a0a08fdfefdf8eef3fbfe000000000206070f100c0b0a101015100f0b0b0d0904fefaf0f0f9ff000000000205090a070003020005021019
1410150b0702fef0f0faff00000000010408fff6f4f0e9e8f0fc121b1d191a19140702faf7fdff000000000102fef5eaebe8d9d9dff1fd0e16171a2122151107
fffeff000000000202f6eee7e8e4dbdce2eae9fa080c11181a141510030000000000000201f6edecf2eeeae6f1f0e7e6f6f6fb0706050f100400000000000000
00f7f5f8f8f3f3f5f4ede6ecedeeeef8020a0b0702000000000000010200fe0102fffdf9f6eae7ebf0f3f7fb020d0601000000000000000203090608060e07f9
f2e2e6eef2000103040702feff00000000000002040f0f050005f8f3f1eaebe9f3091512080309000003010000000003070f0900fdfff2eef4ede7efff070a13
09040d0300040000000000050f0cfd040502f9f2f7f1f6fb0a0e02090d0a0d04fe030000000001070f0a00020307030702fd0104120dfc0a0e0d0b0300030100
0000010810080402ff03030601f9fa030c050106100c02ff02030100000000050d070200fcfefefdfefffe040804080a0801fc01040201000000010307090706
fefafe05090708050806ff03fafbff01010000000000010101050307fefffe040a0a06fffefdfcf6f7fdff0000000000000000000002060808060a0e0b03fefd
f9f5f2f4fafd00000000000000000000000001010404070907040502fcf9f9fbfeff00000000000000000000000001010101010201010301ffff000000000000
00000000000000000000000000000000000000000000000000000000000000002b676002c70f14fcdafb49eb23e2bbac0f0ee7f1b5faf70f04b71fd12ac95aed
0d0f06ebd3f2164efbdec3fd28e2ed2bcfc3d2aec23cd25618fa35f125fdf1523d03bf069ddfd7d7210f2a1ccd26c53620d215e425eac0d7a0282419ca3002f9
ec82fdf145ec343bf5ebdc343df1ed695400400ce7051261f706ea8115031b0f090b250623b6d8600913ebe2d6d2e60fe51a28394a4a9f22e8d73d42d6fbd22d
e6dbd6eb28b7cb34360df51befcb393745c53344e617c5d3e926dc24b90dc4bd3954f3c8cf3a49c829b6cc0011ced8e12ccc01d744d9e630f9c2bc5306f3b4ca
c91fcc422bcd33c822341bb30ae852e1f2d4e0bcdbf1df0fd34d3926e3c6f7bd45266321e3c60dd2b6fab0c6e9ec0950c30808e8d1bb5a50db00f3f002f82abb
ffebf42913e8fcf1dddd110de5bf04f6b5cb81dfe7d9b9d1d7cd
